{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAYC,SAASC,cAAc,sBACnCC,EAAaF,SAASC,cAAc,aACpCE,EAAaH,SAASC,cAAc,eACpCG,EAAeJ,SAASC,cAAc,iBACtCI,EAAmBL,SAASC,cAAc,sBAGhDC,EAAWI,iBAAiB,SAqC5B,WAEE,IADA,EAAAT,EAAAU,wBACgB,UAAZC,EACF,OAEFA,EAAU,QAEVC,aAAaC,QAAQ,UAAW,SAChB,UAAZF,IACFG,EAAaT,EAAWU,QAAQ,eAC3BD,IACHT,EAAWW,UAAUC,OAAO,cAC5BX,EAAWU,UAAUC,OAAO,gBAGhCC,G,IAnDFZ,EAAWG,iBAAiB,SAsD5B,WAGE,IAFA,EAAAT,EAAAU,wBACAF,EAAiBW,MAAMC,QAAU,eACjB,UAAZT,EACF,OAEFA,EAAU,QACVC,aAAaC,QAAQ,UAAW,SAChB,UAAZF,IACFG,EAAaR,EAAWS,QAAQ,eAC3BD,IACHT,EAAWW,UAAUC,OAAO,cAC5BX,EAAWU,UAAUC,OAAO,gBAGhCC,G,IApEF,IACIJ,EADAH,EAAU,QAEVU,EAAM,GAMV,SAASC,KACP,EAAAtB,EAAAU,wBACuD,OAApCE,aAAaW,QAAQ,YAEtCZ,EAAUC,aAAaW,QAAQ,WACf,UAAZZ,GAEFG,EAAaT,EAAWU,QAAQ,eAC3BD,IACHT,EAAWW,UAAUC,OAAO,cAC5BX,EAAWU,UAAUC,OAAO,iBAG9BH,EAAaR,EAAWS,QAAQ,eAC3BD,IACHT,EAAWW,UAAUC,OAAO,cAC5BX,EAAWU,UAAUC,OAAO,iBAIhCN,EAAU,QAGZO,G,CA2CF,SAASA,IACP,IAAIM,EACJ,GAAgB,UAAZb,EAAqB,CACvBC,aAAaC,QAAQ,UAAW,SAEhC,GADoD,OAAlCD,aAAaW,QAAQ,SACzB,CACZ,MAAME,EAAgBb,aAAaW,QAAQ,SAC3CC,EAASE,KAAKC,MAAMF,E,MAGpBD,EAAS,E,KAEN,CACLZ,aAAaC,QAAQ,UAAW,SAGhC,GADoD,OAAlCD,aAAaW,QAAQ,SACzB,CACZ,MAAME,EAAgBb,aAAaW,QAAQ,SAC3CC,EAASE,KAAKC,MAAMF,E,MAGpBD,EAAS,E,CAKb,GAFAtB,EAAU0B,UAAY,GAElBJ,EAAOK,OAAS,EAClBL,EAAOM,KAAIC,IAGPV,EAD0B,IAAxBU,EAAMC,OAAOH,OACTE,EAAMC,OAAO,GACc,IAAxBD,EAAMC,OAAOH,OAChB,GAAGE,EAAMC,OAAO,OAAOD,EAAMC,OAAO,KAEpC,GAAGD,EAAMC,OAAO,OAAOD,EAAMC,OAAO,YAG5C,MAAMC,EAAO9B,SAAS+B,cAAc,OACpCD,EAAKE,aAAa,OAAQJ,EAAMK,IAChCH,EAAKjB,UAAUqB,IAAI,cACnBJ,EAAKL,UAAY,6CAA6CG,EAAMO,qKAGhDP,EAAMQ,2GAGNlB,8GAGA,IAAImB,KAAKT,EAAMU,cAAcC,kEAGjDxC,EAAUyC,YAAYV,EAAK,QAExB,CACL,IAAIW,EAAU,GAEZA,EADc,UAAZjC,EACQ,aAEA,eAEZ,MAAMsB,EAAO9B,SAAS+B,cAAc,OACpCD,EAAKjB,UAAUqB,IAAI,cACnBJ,EAAKL,UAAY,0BAA0BgB,SAC3C1C,EAAUyC,YAAYV,E,EAExB,EAAAjC,EAAA6C,+BAA8B,I,CAzIV1C,SAASC,cAAc,iBAC/BK,iBAAiB,QAASa,GACxCf,EAAaE,iBAAiB,QAASa,GA0IvCJ","sources":["src/js/mylibrary-gallery.js"],"sourcesContent":["import { showLoadingAnimation, hideLoadingAnimationWithDelay } from \"./API-requests\";\n\nconst movieList = document.querySelector('.mylibrary-gallery');\nconst watchPress = document.querySelector('#mylibWat');\nconst queuePress = document.querySelector('#mylibqueue');\nconst mylibClicked = document.querySelector('.library-link');\nconst loadingAnimation = document.querySelector('.loading-animation');\n\n\nwatchPress.addEventListener('click', setUpWatch);\nqueuePress.addEventListener('click', setUpqueue);\nlet libType = 'queue';\nlet checkclass;\nlet acc = '';\nconst modelCloseBtn = document.querySelector('.close-button');\nmodelCloseBtn.addEventListener('click', setupMyLib);\nmylibClicked.addEventListener('click', setupMyLib);\n\n\nfunction setupMyLib() {\n  showLoadingAnimation();\n  const mylibList = (localStorage.getItem('libtype') !== null);\n  if (mylibList) {\n    libType = localStorage.getItem('libtype')\n    if (libType === 'watch') {\n\n      checkclass = watchPress.matches('.active-btn');\n      if (!checkclass) {\n        watchPress.classList.toggle(\"active-btn\");\n        queuePress.classList.toggle(\"active-btn\");\n      }\n    } else {\n      checkclass = queuePress.matches('.active-btn');\n      if (!checkclass) {\n        watchPress.classList.toggle(\"active-btn\");\n        queuePress.classList.toggle(\"active-btn\");\n      }\n    }\n  } else {\n    libType = 'queue'\n\n  }\n  renderInfo()\n}\n\n\nfunction setUpWatch() {\n  showLoadingAnimation();\n  if (libType === 'watch') {\n    return\n  }\n  libType = 'watch'\n\n  localStorage.setItem('libtype', 'watch')\n  if (libType === 'watch') {\n    checkclass = watchPress.matches('.active-btn');\n    if (!checkclass) {\n      watchPress.classList.toggle(\"active-btn\");\n      queuePress.classList.toggle(\"active-btn\");\n    }\n  }\n  renderInfo()\n}\n\nfunction setUpqueue() {\n  showLoadingAnimation();\n  loadingAnimation.style.display = 'inline-block';\n  if (libType === 'queue') {\n    return\n  }\n  libType = 'queue'\n  localStorage.setItem('libtype', 'queue')\n  if (libType === 'queue') {\n    checkclass = queuePress.matches('.active-btn');\n    if (!checkclass) {\n      watchPress.classList.toggle(\"active-btn\");\n      queuePress.classList.toggle(\"active-btn\");\n    }\n  }\n  renderInfo()\n}\n\n\n\n\nfunction renderInfo() {\n  let movies;\n  if (libType === 'queue') {\n    localStorage.setItem('libtype', 'queue')\n    const queueSet = (localStorage.getItem('queue') !== null);\n    if (queueSet) {\n      const moviesStorage = localStorage.getItem('queue')\n      movies = JSON.parse(moviesStorage)\n\n    } else {\n      movies = []\n    }\n  } else {\n    localStorage.setItem('libtype', 'watch')\n\n    const watchSet = (localStorage.getItem('watch') !== null);\n    if (watchSet) {\n      const moviesStorage = localStorage.getItem('watch')\n      movies = JSON.parse(moviesStorage)\n\n    } else {\n      movies = []\n    }\n  }\n  movieList.innerHTML = '';\n\n  if (movies.length > 0) {\n    movies.map(movie => {\n\n      if (movie.genres.length === 1) {\n        acc = movie.genres[0]\n      } else if (movie.genres.length === 2) {\n        acc = `${movie.genres[0]}, ${movie.genres[1]}`;\n      } else {\n        acc = `${movie.genres[0]}, ${movie.genres[1]}, Other`;\n      }\n\n      const card = document.createElement('div');\n      card.setAttribute('data', movie.id);\n      card.classList.add('movie-card');\n      card.innerHTML = `<img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\" class=\"movie-poster\" width=\"500px\"/>\n                <ul class=\"movie_info\">\n                    <li class=\"movie_title\">\n                        ${movie.title}\n                    </li>\n                    <li class=\"movie_genre\">\n                        ${acc}\n                    </li>\n                    <li class=\"movie_release-date\">\n                        ${new Date(movie.release_date).getFullYear()}\n                    </li>\n                </ul>`;\n      movieList.appendChild(card);\n    });\n  } else {\n    let nomovie = ''\n    if (libType === 'queue') {\n      nomovie = 'Queue List'\n    } else {\n      nomovie = 'Watched List'\n    }\n    const card = document.createElement('div');\n    card.classList.add('no-storage');\n    card.innerHTML = `<h3>No movies saved in ${nomovie}</h3>`\n    movieList.appendChild(card);\n  }\n  hideLoadingAnimationWithDelay(500);\n}\n\nrenderInfo()\n\n// const showMovieCard = (movies) => {\n//     const\n// }\n"],"names":["$5q1tW","parcelRequire","$58f79675f3044567$var$movieList","document","querySelector","$58f79675f3044567$var$watchPress","$58f79675f3044567$var$queuePress","$58f79675f3044567$var$mylibClicked","$58f79675f3044567$var$loadingAnimation","addEventListener","showLoadingAnimation","$58f79675f3044567$var$libType","localStorage","setItem","$58f79675f3044567$var$checkclass","matches","classList","toggle","$58f79675f3044567$var$renderInfo","style","display","$58f79675f3044567$var$acc","$58f79675f3044567$var$setupMyLib","getItem","movies","moviesStorage","JSON","parse","innerHTML","length","map","movie","genres","card","createElement","setAttribute","id","add","poster_path","title","Date","release_date","getFullYear","appendChild","nomovie","hideLoadingAnimationWithDelay"],"version":3,"file":"index.8174f346.js.map"}