var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a);var s=a("5q1tW"),l=a("ioFHx");class i{constructor(e,t,o,a,s){this.id=e,this.title=t,this.genres=o,this.release_date=a,this.poster_path=s}}const n=document.querySelector(".card-gallery");let d,c="",r="",u="",g="",p="",m=-1;n.addEventListener("click",(e=>{const t=e.target.closest("div").getAttribute("data");c=t,async function(e){document.querySelector(".close-button").addEventListener("click",(()=>h.classList.add("is-hidden")));const t=document.querySelector(".movie-name"),o=document.querySelector(".movie-info-block"),a=document.querySelector(".modal-movie-poster"),i=document.querySelector(".movie-about-description");a.style.display="block";const n=await(0,s.getMovieInfo)(e);function m(e){return e.toString().length>3?e.toFixed(2):e}(0,l.updateMovieModalPosterDimension)(),(0,l.updateMoviePosterUrl)(),t.textContent=n.title,a.src="",a.src=`${l.MOVIE__POSTERS__URL}${n.poster_path}`,a.alt=`${n.title}`,a.width=`${l.movieModalPosterWidth}`,a.height=`${l.movieModalPosterHeight}`,o.innerHTML=`\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>${m(n.vote_average)}</span> /  ${n.vote_count}</p>\n  <p  class='movie-info'>Popularity</p> <p>${n.popularity}</p>\n  <p  class='movie-info'>Original Title</p> <p>${n.original_title.toUpperCase()}</p>\n  <p  class='movie-info'>Genre</p> <p>${n.genres.map((e=>" "+e.name))}</p>\n  `,i.textContent=n.overview,r=n.title,u=n.genres.map((e=>" "+e.name)),g=n.release_date,p=n.poster_path;if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");f=JSON.parse(e)}else f=[];if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");S=JSON.parse(e)}else S=[];-1!==f.findIndex((e=>e.id===c))?(q.innerText="REMOVE FROM WATCHED",d=q.matches(".add-to-queue"),d&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))):(q.innerText="ADD TO WATCHED",d=q.matches(".add-to-watched"),d&&(q.classList.toggle("add-to-watched"),q.classList.toggle("add-to-queue")));-1!==S.findIndex((e=>e.id===c))?(v.innerText="REMOVE FROM QUEUE",d=v.matches(".add-to-queue"),d&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))):(v.innerText="ADD TO QUEUE",d=v.matches(".add-to-watched"),d&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched")))}(t).then((()=>h.classList.toggle("is-hidden")))}));const h=document.querySelector(".movie-modal__overlay");let f=[],S=[];const q=document.querySelector("#watchedButton"),v=document.querySelector("#queuedButton");q.addEventListener("click",(function(){if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");f=JSON.parse(e)}else f=[];if(console.log(f),m=f.findIndex((e=>e.id===c)),console.log(m),-1===m){const e=new i(c,r,u,g,p);console.log,f.push(e),localStorage.setItem("watch",JSON.stringify(f)),q.innerText="REMOVE FROM WATCHED",d=q.matches(".add-to-queue"),d&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))}else f.splice(m,1),localStorage.setItem("watch",JSON.stringify(f)),q.innerText="ADD TO WATCHED",d=q.matches(".add-to-watched"),d&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))})),v.addEventListener("click",(function(){if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");S=JSON.parse(e)}else S=[];if(m=S.findIndex((e=>e.id===c)),-1===m){const e=new i(c,r,u,g,p);S.push(e),localStorage.setItem("queue",JSON.stringify(S)),v.innerText="REMOVE FROM QUEUE",d=v.matches(".add-to-queue"),d&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))}else S.splice(m,1),localStorage.setItem("queue",JSON.stringify(S)),v.innerText="ADD TO QUEUE",d=v.matches(".add-to-watched"),d&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))}));
//# sourceMappingURL=index.6e9c8622.js.map
