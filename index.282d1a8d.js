!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired76b;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired76b=a);var i=a("bpxeT"),s=a("8MBJY"),c=a("2TvXO"),r=a("5kFwL"),l=a("96x7w"),d=function t(o,n,a,i,c){"use strict";e(s)(this,t),this.id=o,this.title=n,this.genres=a,this.release_date=i,this.poster_path=c},u=document.querySelector(".card-gallery"),g=document.querySelector(".mylibrary-gallery"),p="",f="",h="",m="",v="",w=-1;u.addEventListener("click",(function(e){var t=e.target.closest("ul").getAttribute("data");p=t,O(t).then((function(){return S.classList.toggle("is-hidden")}))})),g.addEventListener("click",(function(e){var t=e.target.closest("div").getAttribute("data");p=t,O(t).then((function(){return S.classList.toggle("is-hidden")}))}));var S=document.querySelector(".movie-modal__overlay"),q=[],y=[],E=document.querySelector("#watchedButton"),L=document.querySelector("#queuedButton");function O(e){return x.apply(this,arguments)}function x(){return(x=e(i)(e(c).mark((function t(o){var n,a,i,s,d,u,g,w;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return e.toString().length>3?e.toFixed(2):e},document.querySelector(".close-button").addEventListener("click",(function(){return S.classList.add("is-hidden")})),n=document.querySelector(".movie-name"),a=document.querySelector(".movie-info-block"),i=document.querySelector(".modal-movie-poster"),s=document.querySelector(".movie-about-description"),i.style.display="block",e.next=10,(0,r.getMovieInfo)(o);case 10:d=e.sent,(0,l.updateMovieModalPosterDimension)(),(0,l.updateMoviePosterUrl)(),n.textContent=d.title,i.src="",i.src="".concat(l.MOVIE__POSTERS__URL).concat(d.poster_path),i.alt="".concat(d.title),i.width="".concat(l.movieModalPosterWidth),i.height="".concat(l.movieModalPosterHeight),a.innerHTML="\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>".concat(u(d.vote_average),"</span> /  ").concat(d.vote_count,"</p>\n  <p  class='movie-info'>Popularity</p> <p>").concat(d.popularity,"</p>\n  <p  class='movie-info'>Original Title</p> <p>").concat(d.original_title.toUpperCase(),"</p>\n  <p  class='movie-info'>Genre</p> <p>").concat(d.genres.map((function(e){return" "+e.name})),"</p>\n  "),s.textContent=d.overview,f=d.title,h=d.genres.map((function(e){return" "+e.name})),m=d.release_date,v=d.poster_path,null!==localStorage.getItem("watch")?(g=localStorage.getItem("watch"),q=JSON.parse(g)):q=[],null!==localStorage.getItem("queue")?(w=localStorage.getItem("queue"),y=JSON.parse(w)):y=[],-1!==q.findIndex((function(e){return e.id===p}))?(E.innerText="REMOVE FROM WATCHED",E.matches(".add-to-queue")&&(E.classList.toggle("add-to-queue"),E.classList.toggle("add-to-watched"))):(E.innerText="ADD TO WATCHED",E.matches(".add-to-watched")&&(E.classList.toggle("add-to-watched"),E.classList.toggle("add-to-queue"))),-1!==y.findIndex((function(e){return e.id===p}))?(L.innerText="REMOVE FROM QUEUE",L.matches(".add-to-queue")&&(L.classList.toggle("add-to-queue"),L.classList.toggle("add-to-watched"))):(L.innerText="ADD TO QUEUE",L.matches(".add-to-watched")&&(L.classList.toggle("add-to-queue"),L.classList.toggle("add-to-watched")));case 34:case"end":return e.stop()}}),t)})))).apply(this,arguments)}E.addEventListener("click",(function(){if(null!==localStorage.getItem("watch")){var e=localStorage.getItem("watch");q=JSON.parse(e)}else q=[];if(console.log(q),w=q.findIndex((function(e){return e.id===p})),console.log(w),-1===w){var t=new d(p,f,h,m,v);console.log,q.push(t),localStorage.setItem("watch",JSON.stringify(q)),E.innerText="REMOVE FROM WATCHED",E.matches(".add-to-queue")&&(E.classList.toggle("add-to-queue"),E.classList.toggle("add-to-watched"))}else q.splice(w,1),localStorage.setItem("watch",JSON.stringify(q)),E.innerText="ADD TO WATCHED",E.matches(".add-to-watched")&&(E.classList.toggle("add-to-queue"),E.classList.toggle("add-to-watched"))})),L.addEventListener("click",(function(){if(null!==localStorage.getItem("queue")){var e=localStorage.getItem("queue");y=JSON.parse(e)}else y=[];if(-1===(w=y.findIndex((function(e){return e.id===p})))){var t=new d(p,f,h,m,v);y.push(t),localStorage.setItem("queue",JSON.stringify(y)),L.innerText="REMOVE FROM QUEUE",L.matches(".add-to-queue")&&(L.classList.toggle("add-to-queue"),L.classList.toggle("add-to-watched"))}else y.splice(w,1),localStorage.setItem("queue",JSON.stringify(y)),L.innerText="ADD TO QUEUE",L.matches(".add-to-watched")&&(L.classList.toggle("add-to-queue"),L.classList.toggle("add-to-watched"))}))}();
//# sourceMappingURL=index.282d1a8d.js.map
