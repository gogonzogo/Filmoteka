var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a);var s=a("5q1tW");class l{constructor(e,t,o,a,s){this.id=e,this.title=t,this.genres=o,this.release_date=a,this.poster_path=s}}const n=document.querySelector(".card-gallery");let i,c="",d="",r="",u="",g="",p=-1;n.addEventListener("click",(e=>{const t=e.target.closest("div").getAttribute("data");c=t,async function(e){const t=document.querySelector(".movie-modal__overlay");t.classList.toggle("is-hidden");document.querySelector(".close-button").addEventListener("click",(()=>t.classList.add("is-hidden")));const o=document.querySelector(".movie-name"),a=document.querySelector(".movie-info-block"),l=document.querySelector(".modal-movie-poster"),n=document.querySelector(".movie-about-description"),p=await(0,s.getMovieInfo)(e);function w(e){return e.toString().length>3?e.toFixed(2):e}o.textContent=p.title,l.src=`https://image.tmdb.org/t/p/w500/${p.poster_path}`,a.innerHTML=`\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>${w(p.vote_average)}</span> /  ${p.vote_count}</p>\n  <p  class='movie-info'>Popularity</p> <p>${p.popularity}</p>\n  <p  class='movie-info'>Original Title</p> <p>${p.original_title.toUpperCase()}</p>\n  <p  class='movie-info'>Genre</p> <p>${p.genres.map((e=>" "+e.name))}</p>\n  `,n.textContent=p.overview,d=p.title,r=p.genres.map((e=>" "+e.name)),u=p.release_date,g=p.poster_path;if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");m=JSON.parse(e)}else m=[];if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");h=JSON.parse(e)}else h=[];-1!==m.findIndex((e=>e.id===c))?(f.innerText="REMOVE FROM WATCHED",i=f.matches(".add-to-queue"),i&&(f.classList.toggle("add-to-queue"),f.classList.toggle("add-to-watched"))):(f.innerText="ADD TO WATCHED",i=f.matches(".add-to-watched"),i&&(f.classList.toggle("add-to-watched"),f.classList.toggle("add-to-queue")));-1!==h.findIndex((e=>e.id===c))?(q.innerText="REMOVE FROM QUEUE",i=q.matches(".add-to-queue"),i&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))):(q.innerText="ADD TO QUEUE",i=q.matches(".add-to-watched"),i&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched")))}(t)}));let m=[],h=[];const f=document.querySelector("#watchedButton"),q=document.querySelector("#queuedButton");f.addEventListener("click",(function(){if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");m=JSON.parse(e)}else m=[];if(console.log(m),p=m.findIndex((e=>e.id===c)),console.log(p),-1===p){const e=new l(c,d,r,u,g);console.log,m.push(e),localStorage.setItem("watch",JSON.stringify(m)),f.innerText="REMOVE FROM WATCHED",i=f.matches(".add-to-queue"),i&&(f.classList.toggle("add-to-queue"),f.classList.toggle("add-to-watched"))}else m.splice(p,1),localStorage.setItem("watch",JSON.stringify(m)),f.innerText="ADD TO WATCHED",i=f.matches(".add-to-watched"),i&&(f.classList.toggle("add-to-queue"),f.classList.toggle("add-to-watched"))})),q.addEventListener("click",(function(){if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");h=JSON.parse(e)}else h=[];if(p=h.findIndex((e=>e.id===c)),-1===p){const e=new l(c,d,r,u,g);h.push(e),localStorage.setItem("queue",JSON.stringify(h)),q.innerText="REMOVE FROM QUEUE",i=q.matches(".add-to-queue"),i&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))}else h.splice(p,1),localStorage.setItem("queue",JSON.stringify(h)),q.innerText="ADD TO QUEUE",i=q.matches(".add-to-watched"),i&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))}));
//# sourceMappingURL=index.084ad05d.js.map
