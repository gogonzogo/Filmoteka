var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a);var s=a("5q1tW"),l=a("ioFHx");class n{constructor(e,t,o,a,s){this.id=e,this.title=t,this.genres=o,this.release_date=a,this.poster_path=s}}const i=document.querySelector(".card-gallery");let c,d="",r="",u="",g="",p="",m=-1;i.addEventListener("click",(e=>{const t=e.target.closest("div").getAttribute("data");d=t,async function(e){document.querySelector(".close-button").addEventListener("click",(()=>h.classList.add("is-hidden")));const t=document.querySelector(".movie-name"),o=document.querySelector(".movie-info-block"),a=document.querySelector(".modal-movie-poster"),n=document.querySelector(".movie-about-description"),i=await(0,s.getMovieInfo)(e);function m(e){return e.toString().length>3?e.toFixed(2):e}(0,l.updateMovieModalPosterDimension)(),(0,l.updateMoviePosterUrl)(),t.textContent=i.title,a.src="",a.src=`${l.MOVIE__POSTERS__URL}${i.poster_path}`,o.innerHTML=`\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>${m(i.vote_average)}</span> /  ${i.vote_count}</p>\n  <p  class='movie-info'>Popularity</p> <p>${i.popularity}</p>\n  <p  class='movie-info'>Original Title</p> <p>${i.original_title.toUpperCase()}</p>\n  <p  class='movie-info'>Genre</p> <p>${i.genres.map((e=>" "+e.name))}</p>\n  `,n.textContent=i.overview,r=i.title,u=i.genres.map((e=>" "+e.name)),g=i.release_date,p=i.poster_path;if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");f=JSON.parse(e)}else f=[];if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");S=JSON.parse(e)}else S=[];-1!==f.findIndex((e=>e.id===d))?(q.innerText="REMOVE FROM WATCHED",c=q.matches(".add-to-queue"),c&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))):(q.innerText="ADD TO WATCHED",c=q.matches(".add-to-watched"),c&&(q.classList.toggle("add-to-watched"),q.classList.toggle("add-to-queue")));-1!==S.findIndex((e=>e.id===d))?(v.innerText="REMOVE FROM QUEUE",c=v.matches(".add-to-queue"),c&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))):(v.innerText="ADD TO QUEUE",c=v.matches(".add-to-watched"),c&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched")))}(t).then((()=>h.classList.toggle("is-hidden")))}));const h=document.querySelector(".movie-modal__overlay");let f=[],S=[];const q=document.querySelector("#watchedButton"),v=document.querySelector("#queuedButton");q.addEventListener("click",(function(){if(null!==localStorage.getItem("watch")){const e=localStorage.getItem("watch");f=JSON.parse(e)}else f=[];if(console.log(f),m=f.findIndex((e=>e.id===d)),console.log(m),-1===m){const e=new n(d,r,u,g,p);console.log,f.push(e),localStorage.setItem("watch",JSON.stringify(f)),q.innerText="REMOVE FROM WATCHED",c=q.matches(".add-to-queue"),c&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))}else f.splice(m,1),localStorage.setItem("watch",JSON.stringify(f)),q.innerText="ADD TO WATCHED",c=q.matches(".add-to-watched"),c&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))})),v.addEventListener("click",(function(){if(null!==localStorage.getItem("queue")){const e=localStorage.getItem("queue");S=JSON.parse(e)}else S=[];if(m=S.findIndex((e=>e.id===d)),-1===m){const e=new n(d,r,u,g,p);S.push(e),localStorage.setItem("queue",JSON.stringify(S)),v.innerText="REMOVE FROM QUEUE",c=v.matches(".add-to-queue"),c&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))}else S.splice(m,1),localStorage.setItem("queue",JSON.stringify(S)),v.innerText="ADD TO QUEUE",c=v.matches(".add-to-watched"),c&&(v.classList.toggle("add-to-queue"),v.classList.toggle("add-to-watched"))}));
//# sourceMappingURL=index.896ae1a0.js.map
