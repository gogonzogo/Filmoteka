{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAYC,SAASC,cAAc,sBACnCC,EAAaF,SAASC,cAAc,aACpCE,EAAaH,SAASC,cAAc,eACpCG,EAAeJ,SAASC,cAAc,iBACtCI,EAAmBL,SAASC,cAAc,sBAGhDC,EAAWI,iBAAiB,SAqC5B,WAEE,IADA,EAAAT,EAAAU,wBACgB,UAAZC,EACF,OAEFA,EAAU,QAEVC,aAAaC,QAAQ,UAAW,SAChB,UAAZF,IACWN,EAAWS,QAAQ,iBAE9BT,EAAWU,UAAUC,OAAO,cAC5BV,EAAWS,UAAUC,OAAO,gBAGhCC,G,IAnDFX,EAAWG,iBAAiB,SAsD5B,WAGE,IAFA,EAAAT,EAAAU,wBACAF,EAAiBU,MAAMC,QAAU,eACjB,UAAZR,EACF,OAEFA,EAAU,QACVC,aAAaC,QAAQ,UAAW,SAChB,UAAZF,IACWL,EAAWQ,QAAQ,iBAE9BT,EAAWU,UAAUC,OAAO,cAC5BV,EAAWS,UAAUC,OAAO,gBAGhCC,G,IApEF,IAAIN,EAAU,QAEVS,EAAM,GAMV,SAASC,KACP,EAAArB,EAAAU,wBACuD,OAApCE,aAAaU,QAAQ,WAGtB,WADhBX,EAAUC,aAAaU,QAAQ,YAGhBjB,EAAWS,QAAQ,iBAE9BT,EAAWU,UAAUC,OAAO,cAC5BV,EAAWS,UAAUC,OAAO,eAGjBV,EAAWQ,QAAQ,iBAE9BT,EAAWU,UAAUC,OAAO,cAC5BV,EAAWS,UAAUC,OAAO,eAIhCL,EAAU,QAGZM,G,CA2CF,SAASA,IACP,IAAIM,EACJ,GAAgB,UAAZZ,EAGF,GAFAC,aAAaC,QAAQ,UAAW,SACoB,OAAlCD,aAAaU,QAAQ,SACzB,CACZ,IAAME,EAAgBZ,aAAaU,QAAQ,SAC3CC,EAASE,KAAKC,MAAMF,E,MAGpBD,EAAS,QAMX,GAHAX,aAAaC,QAAQ,UAAW,SAEoB,OAAlCD,aAAaU,QAAQ,SACzB,CACZ,IAAMK,EAAgBf,aAAaU,QAAQ,SAC3CC,EAASE,KAAKC,MAAMC,E,MAGpBJ,EAAS,GAKb,GAFArB,EAAU0B,UAAY,GAElBL,EAAOM,OAAS,EAClBN,EAAOO,KAAI,SAAAC,GAGPX,EAD0B,IAAxBW,EAAMC,OAAOH,OACTE,EAAMC,OAAO,GACc,IAAxBD,EAAMC,OAAOH,OAChB,GAAuBI,OAApBF,EAAMC,OAAO,GAAG,MAAoBC,OAAhBF,EAAMC,OAAO,IAEpC,GAAuBC,OAApBF,EAAMC,OAAO,GAAG,MAAoBC,OAAhBF,EAAMC,OAAO,GAAG,WAG/C,IAAME,EAAO/B,SAASgC,cAAc,OACpCD,EAAKE,aAAa,OAAQL,EAAMM,IAChCH,EAAKnB,UAAUuB,IAAI,cACnBJ,EAAKN,UAAY,6CAGGK,OAH0CF,EAAMQ,YAAY,2JAM5DN,OAHAF,EAAMS,MAAM,uGAMZP,OAHAb,EAAI,8GAGuCa,OAA3C,IAAIQ,KAAKV,EAAMW,cAAcC,cAAc,sDAG/DzC,EAAU0C,YAAYV,E,QAEnB,CACL,IAAIW,EAAU,GAEZA,EADc,UAAZlC,EACQ,aAEA,eAEZ,IAAMmC,EAAO3C,SAASgC,cAAc,OACpCW,EAAK/B,UAAUuB,IAAI,cACnBQ,EAAKlB,UAAY,0BAAkCK,OAARY,EAAQ,SACnD3C,EAAU0C,YAAYE,E,EAExB,EAAA9C,EAAA+C,+BAA8B,I,CAzIV5C,SAASC,cAAc,iBAC/BK,iBAAiB,QAASY,GACxCd,EAAaE,iBAAiB,QAASY,GA0IvCJ,G","sources":["src/js/mylibrary-gallery.js"],"sourcesContent":["import { showLoadingAnimation, hideLoadingAnimationWithDelay } from \"./API-requests\";\n\nconst movieList = document.querySelector('.mylibrary-gallery');\nconst watchPress = document.querySelector('#mylibWat');\nconst queuePress = document.querySelector('#mylibqueue');\nconst mylibClicked = document.querySelector('.library-link');\nconst loadingAnimation = document.querySelector('.loading-animation');\n\n\nwatchPress.addEventListener('click', setUpWatch);\nqueuePress.addEventListener('click', setUpqueue);\nlet libType = 'queue';\nlet checkclass;\nlet acc = '';\nconst modelCloseBtn = document.querySelector('.close-button');\nmodelCloseBtn.addEventListener('click', setupMyLib);\nmylibClicked.addEventListener('click', setupMyLib);\n\n\nfunction setupMyLib() {\n  showLoadingAnimation();\n  const mylibList = (localStorage.getItem('libtype') !== null);\n  if (mylibList) {\n    libType = localStorage.getItem('libtype')\n    if (libType === 'watch') {\n\n      checkclass = watchPress.matches('.active-btn');\n      if (!checkclass) {\n        watchPress.classList.toggle(\"active-btn\");\n        queuePress.classList.toggle(\"active-btn\");\n      }\n    } else {\n      checkclass = queuePress.matches('.active-btn');\n      if (!checkclass) {\n        watchPress.classList.toggle(\"active-btn\");\n        queuePress.classList.toggle(\"active-btn\");\n      }\n    }\n  } else {\n    libType = 'queue'\n\n  }\n  renderInfo()\n}\n\n\nfunction setUpWatch() {\n  showLoadingAnimation();\n  if (libType === 'watch') {\n    return\n  }\n  libType = 'watch'\n\n  localStorage.setItem('libtype', 'watch')\n  if (libType === 'watch') {\n    checkclass = watchPress.matches('.active-btn');\n    if (!checkclass) {\n      watchPress.classList.toggle(\"active-btn\");\n      queuePress.classList.toggle(\"active-btn\");\n    }\n  }\n  renderInfo()\n}\n\nfunction setUpqueue() {\n  showLoadingAnimation();\n  loadingAnimation.style.display = 'inline-block';\n  if (libType === 'queue') {\n    return\n  }\n  libType = 'queue'\n  localStorage.setItem('libtype', 'queue')\n  if (libType === 'queue') {\n    checkclass = queuePress.matches('.active-btn');\n    if (!checkclass) {\n      watchPress.classList.toggle(\"active-btn\");\n      queuePress.classList.toggle(\"active-btn\");\n    }\n  }\n  renderInfo()\n}\n\n\n\n\nfunction renderInfo() {\n  let movies;\n  if (libType === 'queue') {\n    localStorage.setItem('libtype', 'queue')\n    const queueSet = (localStorage.getItem('queue') !== null);\n    if (queueSet) {\n      const moviesStorage = localStorage.getItem('queue')\n      movies = JSON.parse(moviesStorage)\n\n    } else {\n      movies = []\n    }\n  } else {\n    localStorage.setItem('libtype', 'watch')\n\n    const watchSet = (localStorage.getItem('watch') !== null);\n    if (watchSet) {\n      const moviesStorage = localStorage.getItem('watch')\n      movies = JSON.parse(moviesStorage)\n\n    } else {\n      movies = []\n    }\n  }\n  movieList.innerHTML = '';\n\n  if (movies.length > 0) {\n    movies.map(movie => {\n\n      if (movie.genres.length === 1) {\n        acc = movie.genres[0]\n      } else if (movie.genres.length === 2) {\n        acc = `${movie.genres[0]}, ${movie.genres[1]}`;\n      } else {\n        acc = `${movie.genres[0]}, ${movie.genres[1]}, Other`;\n      }\n\n      const card = document.createElement('div');\n      card.setAttribute('data', movie.id);\n      card.classList.add('movie-card');\n      card.innerHTML = `<img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\" class=\"movie-poster\" width=\"500px\"/>\n                <ul class=\"movie_info\">\n                    <li class=\"movie_title\">\n                        ${movie.title}\n                    </li>\n                    <li class=\"movie_genre\">\n                        ${acc}\n                    </li>\n                    <li class=\"movie_release-date\">\n                        ${new Date(movie.release_date).getFullYear()}\n                    </li>\n                </ul>`;\n      movieList.appendChild(card);\n    });\n  } else {\n    let nomovie = ''\n    if (libType === 'queue') {\n      nomovie = 'Queue List'\n    } else {\n      nomovie = 'Watched List'\n    }\n    const card = document.createElement('div');\n    card.classList.add('no-storage');\n    card.innerHTML = `<h3>No movies saved in ${nomovie}</h3>`\n    movieList.appendChild(card);\n  }\n  hideLoadingAnimationWithDelay(1000);\n}\n\nrenderInfo()\n\n// const showMovieCard = (movies) => {\n//     const\n// }\n"],"names":["$5kFwL","parcelRequire","$35f9fefb0e40cb18$var$movieList","document","querySelector","$35f9fefb0e40cb18$var$watchPress","$35f9fefb0e40cb18$var$queuePress","$35f9fefb0e40cb18$var$mylibClicked","$35f9fefb0e40cb18$var$loadingAnimation","addEventListener","showLoadingAnimation","$35f9fefb0e40cb18$var$libType","localStorage","setItem","matches","classList","toggle","$35f9fefb0e40cb18$var$renderInfo","style","display","$35f9fefb0e40cb18$var$acc","$35f9fefb0e40cb18$var$setupMyLib","getItem","movies","moviesStorage","JSON","parse","moviesStorage1","innerHTML","length","map","movie","genres","concat","card","createElement","setAttribute","id","add","poster_path","title","Date","release_date","getFullYear","appendChild","nomovie","card1","hideLoadingAnimationWithDelay"],"version":3,"file":"index.714118dd.js.map"}