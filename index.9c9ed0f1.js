!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n);var s=n("bpxeT"),c=n("8MBJY"),i=n("2TvXO"),l=n("5kFwL"),r=function t(o,a,n,s,i){"use strict";e(c)(this,t),this.id=o,this.title=a,this.genres=n,this.release_date=s,this.poster_path=i},d=document.querySelector(".card-gallery"),u="",g="",p="",f="",m="",h=-1;d.addEventListener("click",(function(e){var t=e.target.closest("div").getAttribute("data");u=t,function(e){E.apply(this,arguments)}(t)}));var v=[],w=[],q=document.querySelector("#watchedButton"),S=document.querySelector("#queuedButton");function E(){return(E=e(s)(e(i).mark((function t(o){var a,n,s,c,r,d,h,E,L;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e){return e.toString().length>3?e.toFixed(2):e},(a=document.querySelector(".movie-modal__overlay")).classList.toggle("is-hidden"),document.querySelector(".close-button").addEventListener("click",(function(){return a.classList.add("is-hidden")})),n=document.querySelector(".movie-name"),s=document.querySelector(".movie-info-block"),c=document.querySelector(".modal-movie-poster"),r=document.querySelector(".movie-about-description"),e.next=11,(0,l.getMovieInfo)(o);case 11:d=e.sent,n.textContent=d.title,c.src="https://image.tmdb.org/t/p/w500/".concat(d.poster_path),s.innerHTML="\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>".concat(h(d.vote_average),"</span> /  ").concat(d.vote_count,"</p>\n  <p  class='movie-info'>Popularity</p> <p>").concat(d.popularity,"</p>\n  <p  class='movie-info'>Original Title</p> <p>").concat(d.original_title.toUpperCase(),"</p>\n  <p  class='movie-info'>Genre</p> <p>").concat(d.genres.map((function(e){return" "+e.name})),"</p>\n  "),r.textContent=d.overview,g=d.title,p=d.genres.map((function(e){return" "+e.name})),f=d.release_date,m=d.poster_path,null!==localStorage.getItem("watch")?(E=localStorage.getItem("watch"),v=JSON.parse(E)):v=[],null!==localStorage.getItem("queue")?(L=localStorage.getItem("queue"),w=JSON.parse(L)):w=[],-1!==v.findIndex((function(e){return e.id===u}))?(q.innerText="REMOVE FROM WATCHED",q.matches(".add-to-queue")&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))):(q.innerText="ADD TO WATCHED",q.matches(".add-to-watched")&&(q.classList.toggle("add-to-watched"),q.classList.toggle("add-to-queue"))),-1!==w.findIndex((function(e){return e.id===u}))?(S.innerText="REMOVE FROM QUEUE",S.matches(".add-to-queue")&&(S.classList.toggle("add-to-queue"),S.classList.toggle("add-to-watched"))):(S.innerText="ADD TO QUEUE",S.matches(".add-to-watched")&&(S.classList.toggle("add-to-queue"),S.classList.toggle("add-to-watched")));case 29:case"end":return e.stop()}}),t)})))).apply(this,arguments)}q.addEventListener("click",(function(){if(null!==localStorage.getItem("watch")){var e=localStorage.getItem("watch");v=JSON.parse(e)}else v=[];if(console.log(v),h=v.findIndex((function(e){return e.id===u})),console.log(h),-1===h){var t=new r(u,g,p,f,m);console.log,v.push(t),localStorage.setItem("watch",JSON.stringify(v)),q.innerText="REMOVE FROM WATCHED",q.matches(".add-to-queue")&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))}else v.splice(h,1),localStorage.setItem("watch",JSON.stringify(v)),q.innerText="ADD TO WATCHED",q.matches(".add-to-watched")&&(q.classList.toggle("add-to-queue"),q.classList.toggle("add-to-watched"))})),S.addEventListener("click",(function(){if(null!==localStorage.getItem("queue")){var e=localStorage.getItem("queue");w=JSON.parse(e)}else w=[];if(-1===(h=w.findIndex((function(e){return e.id===u})))){var t=new r(u,g,p,f,m);w.push(t),localStorage.setItem("queue",JSON.stringify(w)),S.innerText="REMOVE FROM QUEUE",S.matches(".add-to-queue")&&(S.classList.toggle("add-to-queue"),S.classList.toggle("add-to-watched"))}else w.splice(h,1),localStorage.setItem("queue",JSON.stringify(w)),S.innerText="ADD TO QUEUE",S.matches(".add-to-watched")&&(S.classList.toggle("add-to-queue"),S.classList.toggle("add-to-watched"))}))}();
//# sourceMappingURL=index.9c9ed0f1.js.map
