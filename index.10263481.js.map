{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACqBC,SAASC,cAAc,iBAE/BC,iBAAiB,SAASC,KAOvCC,eAA2BC,GACzB,MAAMC,EAAQN,SAASC,cAAc,yBAGrCK,EAAMC,UAAUC,OAAO,aAGNR,SAASC,cAAc,iBAC/BC,iBAAiB,SAAS,IAAMI,EAAMC,UAAUE,IAAI,eAE7D,MAAMC,EAAYV,SAASC,cAAc,eACnCU,EAAYX,SAASC,cAAc,qBACnCW,EAAcZ,SAASC,cAAc,uBACrCY,EAAab,SAASC,cAAc,4BAEpCa,QAAc,EAAAhB,EAAAiB,cAAaV,GAGjC,SAASW,EAAWC,GAClB,OAAIA,EAAKC,WAAWC,OAAS,EACpBF,EAAKG,QAAQ,GACRH,C,CAIhBP,EAAUW,YAAcP,EAAMQ,MAC9BV,EAAYW,IAAM,mCAAmCT,EAAMU,cAG3Db,EAAUc,UAAY,gFACqDT,EACzEF,EAAMY,2BACOZ,EAAMa,8DACsBb,EAAMc,kEACFd,EAAMe,eAAeC,4DAC9BhB,EAAMiB,OAAOC,KACjDC,GAAO,IAAMA,EAAIC,iBAInBrB,EAAWQ,YAAcP,EAAMqB,Q,CA3C/BC,CAFejC,EAAEkC,OAAOC,QAAQ,OACTC,aAAa,QAChB","sources":["src/js/movie-modal.js"],"sourcesContent":["import { getMovieInfo } from './API-requests.js';\nconst movieGallery = document.querySelector('.card-gallery');\n\nmovieGallery.addEventListener('click', e => {\n  //get movie id\n  const parent = e.target.closest('div');\n  const movieId = parent.getAttribute('data');\n  renderModal(movieId);\n});\n\nasync function renderModal(movieID) {\n  const modal = document.querySelector('.movie-modal__overlay');\n\n  //show modal\n  modal.classList.toggle('is-hidden');\n\n  //close modal\n  const closeBtn = document.querySelector('.close-button');\n  closeBtn.addEventListener('click', () => modal.classList.add('is-hidden'));\n\n  const movieName = document.querySelector('.movie-name');\n  const movieInfo = document.querySelector('.movie-info-block');\n  const moviePoster = document.querySelector('.modal-movie-poster');\n  const movieAbout = document.querySelector('.movie-about-description');\n\n  const movie = await getMovieInfo(movieID);\n\n  // round average vote like 7.5975\n  function roundVotes(vote) {\n    if (vote.toString().length > 3) {\n      return vote.toFixed(2);\n    } else return vote;\n  }\n\n  //movie info\n  movieName.textContent = movie.title;\n  moviePoster.src = `https://image.tmdb.org/t/p/w500/${movie.poster_path}`;\n\n  //movie details\n  movieInfo.innerHTML = `\n  <p class='movie-info'>Vote / Votes</p> <p><span class='modal-movie-rate'>${roundVotes(\n    movie.vote_average\n  )}</span> /  ${movie.vote_count}</p>\n  <p  class='movie-info'>Popularity</p> <p>${movie.popularity}</p>\n  <p  class='movie-info'>Original Title</p> <p>${movie.original_title.toUpperCase()}</p>\n  <p  class='movie-info'>Genre</p> <p>${movie.genres.map(\n    gen => ' ' + gen.name\n  )}</p>\n  `;\n\n  movieAbout.textContent = movie.overview;\n}\n"],"names":["$5q1tW","parcelRequire","document","querySelector","addEventListener","e","async","movieID","modal","classList","toggle","add","movieName","movieInfo","moviePoster","movieAbout","movie","getMovieInfo","roundVotes","vote","toString","length","toFixed","textContent","title","src","poster_path","innerHTML","vote_average","vote_count","popularity","original_title","toUpperCase","genres","map","gen","name","overview","$4281cb08e8defb2a$var$renderModal","target","closest","getAttribute"],"version":3,"file":"index.10263481.js.map"}